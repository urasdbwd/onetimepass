<html>
<meta property="og:title" content="Things OTP" />
<meta property="og:site_name" content="Things One Time Password Gen" />
<meta property="og:description"
  content="Things OTP is the first of it's kind. Don't have a phone? No problem at all." />
<center>

  <head>
    <link href='https://fonts.googleapis.com/css?family=Varela Round' rel='stylesheet'>
    <style>
      body {
        font-family: 'Varela Round';
        font-size: 22px;
      }
    </style>
  </head>

  <body>
    <style>
      body {
        background-color: #380356;
      }

      h1 {
        color: purple;
        margin-left: 40px;
      }
    </style>
    <h1>Things 2FA</h1>

    <style>
      button#generate-otp:hover {
        transform: scale(1.1);
        transition: transform 0.5s;
      }
    </style>
    <button id="generate-otp"
      style="background-color: #CCC3E3; border-radius: 10px; height: 30px; width: 100px;">Generate</button>
    <p id="otp-value"></p>

    <script>
      const generateOtpButton = document.getElementById('generate-otp')
      const optv = document.getElementById('otp-value')
      window.onload = () => {
        generateOtpButton.addEventListener('click', () => {
          key = prompt('What is your secret key?')
          y = key.replace(/\s/g, '')
          fetch('/generate', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/x-www-form-urlencoded'
            },
            form: {
              secret_key: y
            }
          })

            .then(response => response.json())
            .then(data => {
             alert(secret_key)
            })

        })
      }
    </script>
</center>
</body>

</html>
